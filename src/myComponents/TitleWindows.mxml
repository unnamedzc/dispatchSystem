<?xml version="1.0" encoding="utf-8"?>
<s:TitleWindow xmlns:fx="http://ns.adobe.com/mxml/2009" 
			   xmlns:s="library://ns.adobe.com/flex/spark" 
			   xmlns:mx="library://ns.adobe.com/flex/mx" title="添加数据" addedToStage="onAdd()" creationComplete="onCreated()">
	<fx:Declarations>
		<!-- 将非可视元素（例如服务、值对象）放在此处 -->
	</fx:Declarations>
	<fx:Script>
		<![CDATA[
			import Values.GlobalValue;
			
			import mx.core.IVisualElementContainer;
			import mx.events.ResizeEvent;
			import mx.managers.PopUpManager;
			
			import spark.components.NavigatorContent;		
			public var _editable:Boolean=false;
			private var _tabVec:Vector.<IVisualElementContainer>=new Vector.<IVisualElementContainer>();
			private function addData():void
			{
				//tn.getChildAt(0).setData();
				trace("all tab here is:",_tabVec);
				for(var i:uint;i<_tabVec.length;++i)
				{
					if(_tabVec[i] is TableTab)
					{
						TableTab(_tabVec[i]).setData();
					}
				}
				
				
			}
			private function onAdd():void
			{
				trace("titleWin ")				
			}
			private function onCreated():void
			{
				var _len:uint=GlobalValue._xmlData.tab.length();
				var _tempXml:XML;
				for(var i:uint;i<_len;++i)
				{					
					_tempXml=XML(GlobalValue._xmlData.tab[i].elements);	
					if(uint(GlobalValue._xmlData.tab[i].@isTable)!=0)
					{
						var myT:TableTab=new TableTab();
						_tabVec.push(myT);
						myT.myXML=_tempXml;
						myT.layoutStyle=uint(GlobalValue._xmlData.tab[i].@isTable)
						tn.addElement(myT);	
						myT.label=GlobalValue._xmlData.tab[i].tabName;
						
					}else
					{
						var myS:SheetTab=new SheetTab();
						_tabVec.push(myS);
						myS.myXML=_tempXml;
						tn.addItem(myS);						
						myS.label=GlobalValue._xmlData.tab[i].tabName;
					}
				}  
			}
			private function onChangeTab(e:Event):void
			{
				trace("changeTab:",e.target.name)
			}
		]]>
	</fx:Script>
	<s:layout>
		<s:VerticalLayout paddingLeft="10" paddingRight="10" paddingTop="10" paddingBottom="10"/>
	</s:layout>
	<s:VGroup width="100%" height="100%">
		<s:HGroup>			
			<s:Button label="确定" click="addData();PopUpManager.removePopUp(this);System.gc()"/>
			<s:Button label="取消" click="PopUpManager.removePopUp(this);System.gc()"/>
		</s:HGroup>
		<mx:TabNavigator id="tn" height="100%" width="100%" color="0x323232"/>
	</s:VGroup>
</s:TitleWindow>