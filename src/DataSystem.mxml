<?xml version="1.0"?>
<!-- Simple example to demonstrate the Spark TabBar -->
<s:WindowedApplication xmlns:fx="http://ns.adobe.com/mxml/2009"
					   xmlns:s="library://ns.adobe.com/flex/spark"
					   xmlns:mx="library://ns.adobe.com/flex/mx"
					   xmlns:MyComponent="MyComponent.*" initialize="getData()" creationComplete="assignData()">
	
	<fx:Style>
		@namespace "library://ns.adobe.com/flex/spark";
		
		NavigatorContent ToggleButton:upAndSelected,
		NavigatorContent ToggleButton:overAndSelected,
		NavigatorContent ToggleButton:downAndSelected,
		NavigatorContent ToggleButton:disabledAndSelected {
			chromeColor: #9999CC;
			color: #F00E34;
		}
		
		NavigatorContent {
			chromeColor: #9999CC;
			color: #410FF5;
			cornerRadius:8;
		}
	</fx:Style>
	<fx:Script>
		<![CDATA[
			import MyComponent.MyTab;
			private var _xmlData:XML=new XML;
			
			public function getData():void
			{
				var request:URLRequest = new URLRequest("/data/tableList.xml");  
				var loader:URLLoader = new URLLoader(request);  
				loader.addEventListener(Event.COMPLETE, loaderCompleteHandler); 
			}
			private function loaderCompleteHandler(event:Event):void
			{
				_xmlData=XML(event.target.data);
					
			}
			public function assignData():void
			{
				trace("assignData",_xmlData.tab.length());
				var _len:uint=_xmlData.tab.length();
				var _tempXml:XML;
				for(var i:uint;i<_len;++i)
				{
					//trace(_xmlData[i])
					var myT:MyTab=new MyTab();
					myT.label=_xmlData.tab[i].tabName;
					tn.addItem(myT);
				}
				
			}
		]]>
	</fx:Script>
	<s:layout>
		<s:HorizontalLayout verticalAlign="middle" horizontalAlign="center" />
	</s:layout>
	
	<s:Panel title="个体驾驶员的信息系统" width="100%" height="100%"
			 color="0x000000" 
			 borderAlpha="0.15" fontSize="18">
		
		<s:layout>
			<s:VerticalLayout paddingLeft="10" paddingRight="10" paddingTop="10" paddingBottom="10"/>
		</s:layout>		
		<mx:TabNavigator id="tn"  width="100%" height="100%" color="0x323232"/>
			<!-- Define each panel using a VBox container. -->		
		<s:HGroup>
			<s:Button label="Select Tab 1" click="tn.selectedIndex=0" color="0x545454" />
			<s:Button label="Select Tab 2" click="tn.selectedIndex=1" color="0x545454" />
			<!--<s:Button label="Select Tab 3" click="tn.selectedIndex=2" color="0x545454" />-->
		</s:HGroup>
		
	</s:Panel>
	
</s:WindowedApplication>
